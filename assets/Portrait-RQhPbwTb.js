const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroPortraits-vfsbcX-N.js","assets/index-3F8ASdVJ.js","assets/index-CKI2jNWf.css","assets/utilities-CH50U7YB.js"])))=>i.map(i=>d[i]);
import{u as _,a as E,r as t,j as e,L as g,S as j,_ as P}from"./index-3F8ASdVJ.js";import{FaTelegramPlane as H}from"./index-nER0fkIN.js";import"./iconBase-DFSyAiy9.js";const b="/StarLoomPublic/",D=t.lazy(()=>P(()=>import("./HeroPortraits-vfsbcX-N.js"),__vite__mapDeps([0,1,2,3]))),$=()=>{const{heroName:y}=_(),N=E(),[d,c]=t.useState(""),[o,v]=t.useState(y||""),[x,m]=t.useState(null),[w,h]=t.useState(!1),[p,u]=t.useState("");t.useEffect(()=>{if(!o)return;const r=new AbortController;async function s(){try{h(!0),u(""),m(null);const l=await(await fetch(`${b}data/heroes_index.json`,{signal:r.signal})).json(),i=o.trim().toLowerCase(),f=l.heroes.find(a=>a.id===i.padStart(3,"0"))||l.heroes.find(a=>a.id===i)||l.heroes.find(a=>a.name.toLowerCase()===i);if(!f)throw new Error(`Hero "${o}" not found`);const k=await(await fetch(`${b}data/heroes/${f.details_file}`,{signal:r.signal})).json();m(k)}catch(n){n.name!=="AbortError"&&(console.error(n),u(n.message||"Failed to fetch hero"))}finally{h(!1)}}return s(),()=>r.abort()},[o]);const S=r=>{r.preventDefault();const s=d.trim();s&&(v(s),c(""),N(`/extras/portrait/hero/${s}`))};return e.jsxs("div",{className:"px-6 my-30",children:[e.jsxs("nav",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-6",children:[e.jsx(g,{to:"/",className:"hover:text-primary text-text-dull",children:"Home"}),e.jsx("span",{children:">"}),e.jsx(g,{to:"/extras",className:"hover:text-primary text-text-dull",children:"Extras"}),e.jsx("span",{children:">"}),e.jsx("span",{className:"font-semibold text-text",children:"Portraits"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[e.jsxs("div",{className:"order-2 lg:order-1 lg:col-span-3 space-y-8",children:[e.jsx("div",{className:"sticky top-25 z-50 bg-body rounded-lg",children:e.jsxs("form",{onSubmit:S,className:"flex gap-3",children:[e.jsx("input",{type:"text",placeholder:"Enter hero name or ID...",value:d,onChange:r=>c(r.target.value),className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:border-primary bg-background text-text"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition",children:"Search"})]})}),e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsx("h1",{className:"text-xl font-semibold text-text",children:"Portraits"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-dull mb-2",children:[e.jsx("span",{children:"Join our Telegram to download"}),e.jsx("a",{href:"https://t.me/lmthmlbbasset/392",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 border-text border text-text rounded-full hover:bg-primary hover:scale-110 transition transform duration-200",title:"Download Portraits via Telegram",children:e.jsx(H,{className:"text-lg"})})]})]}),e.jsx("div",{className:"border border-text bg-background rounded-xl p-4 min-h-[200px]",children:w?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(j,{size:40})}):p?e.jsx("p",{className:"text-red-500 text-center",children:p}):x?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(j,{size:40})}),children:e.jsx(D,{heroes:[x],linkType:"image"})}):e.jsx("p",{className:"text-text-dull italic text-center",children:"Enter a hero name or ID to view portraits."})})]}),e.jsx("aside",{className:"order-1 lg:order-2 lg:block",children:e.jsxs("div",{className:"sticky top-25 bg-background border border-text rounded-xl shadow-md p-4 text-center sm:sticky sm:top-28",children:[e.jsx("h3",{className:"font-bold mb-3 text-text",children:"Sponsored"}),e.jsx("a",{href:"/assets/ads/sample-ad.jpg",target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"/assets/ads/sample-ad.jpg",alt:"Advertisement",className:"rounded-lg shadow mx-auto"})})]})})]})]})};export{$ as default};
