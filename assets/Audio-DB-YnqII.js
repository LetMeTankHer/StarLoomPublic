const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AudioView-oUMmedbO.js","assets/index-Bxa9UmCe.js","assets/index-b4Eu2IE8.css","assets/index-CSEz-94N.js","assets/iconBase-BePspikF.js"])))=>i.map(i=>d[i]);
import{u as C,a as H,r as t,j as e,L as S,S as p,_ as T}from"./index-Bxa9UmCe.js";import{FaTelegramPlane as P}from"./index-CSEz-94N.js";import"./iconBase-BePspikF.js";const R=t.lazy(()=>T(()=>import("./AudioView-oUMmedbO.js"),__vite__mapDeps([0,1,2,3,4]))),F=()=>{const{heroName:a,skinName:f}=C(),b=H(),c="/StarLoomPublic/",[g,_]=t.useState(a||""),[j,y]=t.useState([]),[l,v]=t.useState(null),[d,m]=t.useState(null),[N,x]=t.useState(!1),A=r=>{switch(r){case"standard":return"bg-blue-500";case"variant":return"bg-purple-500";case"unique":return"bg-orange-500";default:return"bg-gray-500"}},w=async(r,o,k)=>{if(r){x(!0);try{const n=await fetch(`${c}data/heroes_index.json`,{signal:k}),{heroes:$}=await n.json(),i=$.find(s=>s.name.toLowerCase()===r.toLowerCase());if(!i){v(null),y([]),m(null),x(!1);return}const z=await(await fetch(`${c}data/heroes/${i.details_file}`,{signal:k})).json(),u=Object.entries(z.skins).map(([s,L])=>({key:s,...L}));v(i),y(u);const h=u.find(s=>s.key===o)||u[0];m(h),!o&&h&&b(`/extras/audio/hero/${i.name}/${h.key}`,{replace:!0})}catch(n){n.name!=="AbortError"&&console.error("Error fetching hero:",n)}finally{x(!1)}}},E=r=>{r.preventDefault();const o=new AbortController;w(g,null,o.signal)};return t.useEffect(()=>{const r=new AbortController;return a&&w(a,f,r.signal),()=>r.abort()},[a,f]),e.jsxs("div",{className:"px-6 my-30",children:[e.jsxs("nav",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-6",children:[e.jsx(S,{to:"/",className:"hover:text-primary text-text-dull",children:"Home"}),e.jsx("span",{children:">"}),e.jsx(S,{to:"/extras",className:"hover:text-primary text-text-dull",children:"Extras"}),e.jsx("span",{children:">"}),e.jsx("span",{className:"font-semibold text-text",children:"Audio"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[e.jsxs("div",{className:"order-2 lg:order-1 lg:col-span-3 space-y-8",children:[e.jsxs("div",{className:"sticky top-25 z-20 bg-body p-2 sm:static sm:p-0 mb-4 rounded-lg shadow-sm",children:[e.jsxs("form",{onSubmit:E,className:"flex w-full gap-3 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Enter hero name...",value:g,onChange:r=>_(r.target.value),className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:border-primary bg-background text-text w-full"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition",children:"Search"})]}),l&&j.length>0?e.jsx("div",{className:"flex overflow-x-auto gap-6 my-4 p-4 scrollbar-thin scrollbar-thumb-primary scrollbar-track-background",children:j.map(r=>e.jsxs("div",{className:"relative shrink-0 w-16 h-16",children:[e.jsx("button",{onClick:()=>{m(r),b(`/extras/audio/hero/${l.name}/${r.key}`,{replace:!0})},className:`relative w-full h-full rounded-full overflow-hidden border-2 transition-all duration-200 bg-background ${d?.key===r.key?"border-primary ring-1 ring-primary ring-offset-1":"border-transparent hover:border-primary hover:ring-1 hover:ring-primary hover:ring-offset-1"}`,children:N?e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx(p,{size:20})}):e.jsx("img",{src:c+r.avatars.default,alt:r.name,className:"w-full h-full object-cover",loading:"lazy"})}),e.jsx("span",{className:`absolute -top-2 -right-2 text-[10px] px-1.5 py-0.5 rounded-full shadow-md z-20 font-semibold text-white ${A(r.audio_type)}`,children:r.audio_type})]},r.key))}):null]}),N&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-body/50 z-50",children:e.jsx(p,{size:70})}),e.jsxs("div",{className:"flex items-center justify-between gap-2 my-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-text",children:"Audio"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-dull mb-2",children:[e.jsx("span",{children:"Join our Telegram to download"}),e.jsx("a",{href:"https://t.me/lmthmlbbasset/1769",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-7 h-7 border-text border text-text rounded-full hover:bg-primary hover:scale-110 transition transform duration-200",title:"Download Audio via Telegram",children:e.jsx(P,{className:"text-lg"})})]})]}),e.jsx("div",{className:"border border-text bg-background rounded-xl p-4",children:l&&d?e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(p,{size:40})}),children:e.jsx(R,{heroName:l.name,skinName:d.key})}):e.jsx("p",{className:"text-text-dull italic",children:"Type a hero name or come from preview page."})})]}),e.jsx("aside",{className:"order-1 lg:order-2 lg:block",children:e.jsxs("div",{className:"sticky top-28 bg-background border border-text rounded-xl shadow-md p-4 text-center sm:sticky sm:top-28",children:[e.jsx("h3",{className:"font-bold mb-3 text-text",children:"Sponsored"}),e.jsx("a",{href:"https://example.com/",target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"/assets/ads/sample-ad.jpg",alt:"Advertisement",className:"rounded-lg shadow mx-auto"})})]})})]})]})};export{F as default};
