import{r as p,j as b}from"./index-CR7NAc_0.js";import{d as R,e as z,W as j,A,D as E,G as W,B as C,V as H,f as P,c as D}from"./GLTFLoader-DXDLfAfF.js";const k=({modelUrl:a,animationName:r})=>{const w=p.useRef(null);return p.useEffect(()=>{if(!a)return;const c=w.current,t=new R,l=c.clientWidth||window.innerWidth,u=c.clientHeight||window.innerHeight,i=new z(45,l/u,.1,1e3);i.position.set(0,0,4);const s=new j({canvas:c,antialias:!0,alpha:!0});s.setSize(l,u),s.setPixelRatio(window.devicePixelRatio),t.add(new A(16777215,1.5));const h=new E(16777215,3);h.position.set(5,5,5),t.add(h);const x=new W;let o;x.load(a,n=>{const e=n.scene,v=new C().setFromObject(e).getCenter(new H);if(e.position.sub(v),t.add(e),n.animations.length&&r){const m=n.animations.find(L=>L.name===r);m&&(o=new P(e),o.clipAction(m).play())}});const g=new D,f=()=>{requestAnimationFrame(f),o&&o.update(g.getDelta()),s.render(t,i)};f();const d=()=>{const n=window.innerWidth,e=window.innerHeight;i.aspect=n/e,i.updateProjectionMatrix(),s.setSize(n,e)};return window.addEventListener("resize",d),d(),()=>window.removeEventListener("resize",d)},[a,r]),b.jsx("canvas",{ref:w,className:"absolute lg:left-70 inset-0 w-full h-full z-10"})};export{k as default};
