import{r as d,j as s,L as _}from"./index-Bxa9UmCe.js";import{s as x}from"./utilities-CH50U7YB.js";const f="/StarLoomPublic/",k=({heroes:n,linkType:c})=>{const e=d.useMemo(()=>Array.isArray(n)?n:[n],[n]),[r,p]=d.useState({});return d.useEffect(()=>{if(!e.length)return;const i={};e.forEach(t=>{Object.values(t.skins||{}).forEach(a=>{i[a.skin_id]=0})}),p(i);const u=setInterval(()=>{p(t=>{const a={...t};return e.forEach(o=>{Object.values(o.skins||{}).forEach(l=>{const h=1+(l.painted_skins?.length||0);a[l.skin_id]=(t[l.skin_id]+1)%h})}),a})},3e3);return()=>clearInterval(u)},[e]),e.length?s.jsx("div",{className:"mt-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-12 gap-x-5",children:e.map(i=>Object.values(i.skins||{}).filter(t=>!t.painted_of).map(t=>{const a=[t,...t.painted_skins?.map(l=>i.skins[l.key]).filter(Boolean)||[]],o=r[t.skin_id]||0;return s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c==="model"?s.jsx(_,{to:`/model_viewer/${i.id}/${t.skin_id}?model_type=in_game`,children:s.jsx(m,{variants:a,activeIndex:o})}):s.jsx("div",{onClick:()=>window.open(x(`${f}${a[o]?.portraits?.default}`),"_blank"),className:"cursor-pointer",children:s.jsx(m,{variants:a,activeIndex:o})}),s.jsx("span",{className:"text-text text-sm text-center truncate w-32",children:a[o]?.name||"Unknown"})]},t.skin_id)}))})}):s.jsx("div",{children:"No heroes found."})},m=({variants:n,activeIndex:c})=>s.jsxs("div",{className:`relative w-[256px] h-36\r
  rounded-lg overflow-hidden group transition-all duration-300 hover:-translate-y-2 hover:shadow-[0_0_20px_var(--color-primary-glow)]`,children:[n.map((e,r)=>s.jsx("img",{src:x(`${f}${e.splash_art?.default}`),alt:e.name||"skin",className:`absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-1000 ${r===c?"opacity-100":"opacity-0"}`},e.skin_id||r)),n.map((e,r)=>e.painted_of?s.jsx("span",{className:`absolute top-1 left-1 text-xs bg-purple-500 text-white px-1 rounded transition-opacity duration-1000 ${r===c?"opacity-100":"opacity-0"}`,children:"Painted"},e.skin_id||r):null)]});export{k as default};
