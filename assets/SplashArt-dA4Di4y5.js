const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSplashArts-BWZ2-_YJ.js","assets/index-CNLPe1ah.js","assets/index-Ckkej-hF.css","assets/utilities-CH50U7YB.js"])))=>i.map(i=>d[i]);
import{u as E,a as _,r as s,j as e,L as f,S as j,_ as H}from"./index-CNLPe1ah.js";const A=s.lazy(()=>H(()=>import("./HeroSplashArts-BWZ2-_YJ.js"),__vite__mapDeps([0,1,2,3]))),b="/StarLoom/",R=()=>{const{heroName:y}=E(),N=_(),[d,c]=s.useState(""),[o,v]=s.useState(y||""),[x,m]=s.useState(null),[S,h]=s.useState(!1),[p,u]=s.useState("");s.useEffect(()=>{if(!o)return;const t=new AbortController;async function r(){try{h(!0),u(""),m(null);const l=await(await fetch(`${b}data/heroes_index.json`,{signal:t.signal})).json(),i=o.trim().toLowerCase(),g=l.heroes.find(a=>a.id===i.padStart(3,"0"))||l.heroes.find(a=>a.id===i)||l.heroes.find(a=>a.name.toLowerCase()===i);if(!g)throw new Error(`Hero "${o}" not found`);const k=await(await fetch(`${b}data/heroes/${g.details_file}`,{signal:t.signal})).json();m(k)}catch(n){n.name!=="AbortError"&&(console.error(n),u(n.message||"Failed to fetch hero"))}finally{h(!1)}}return r(),()=>t.abort()},[o]);const w=t=>{t.preventDefault();const r=d.trim();r&&(v(r),c(""),N(`/extras/splashart/hero/${r}`))};return e.jsxs("div",{className:"px-6 my-30",children:[e.jsxs("nav",{className:"flex items-center text-sm text-gray-400 space-x-2 mb-6",children:[e.jsx(f,{to:"/",className:"hover:text-primary text-text-dull",children:"Home"}),e.jsx("span",{children:">"}),e.jsx(f,{to:"/extras",className:"hover:text-primary text-text-dull",children:"Extras"}),e.jsx("span",{children:">"}),e.jsx("span",{className:"font-semibold text-text",children:"Splash Arts"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[e.jsxs("div",{className:"order-2 lg:order-1 lg:col-span-3 space-y-8",children:[e.jsx("div",{className:"sticky top-25 z-50 bg-body rounded-lg",children:e.jsxs("form",{onSubmit:w,className:"flex gap-3 py-4 px-2",children:[e.jsx("input",{type:"text",placeholder:"Enter hero name or ID...",value:d,onChange:t=>c(t.target.value),className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:border-primary bg-background text-text"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition",children:"Search"})]})}),e.jsx("div",{className:"border border-text bg-background rounded-xl p-4 min-h-[200px]",children:S?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(j,{size:40})}):p?e.jsx("p",{className:"text-red-500 text-center",children:p}):x?e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(j,{size:40})}),children:e.jsx(A,{heroes:[x],linkType:"image"})}):e.jsx("p",{className:"text-text-dull italic text-center",children:"Enter a hero name or ID to view splash arts."})})]}),e.jsx("aside",{className:"order-1 lg:order-2 lg:block",children:e.jsxs("div",{className:"sticky top-25 bg-background border border-text rounded-xl shadow-md p-4 text-center sm:sticky sm:top-28",children:[e.jsx("h3",{className:"font-bold mb-3 text-text",children:"Sponsored"}),e.jsx("a",{href:"/assets/ads/sample-ad.jpg",target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"/assets/ads/sample-ad.jpg",alt:"Advertisement",className:"rounded-lg shadow mx-auto"})})]})})]})]})};export{R as default};
