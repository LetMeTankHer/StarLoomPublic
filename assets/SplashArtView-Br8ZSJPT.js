const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSplashArts-SgH2R_41.js","assets/index-CR7NAc_0.js","assets/index-b4Eu2IE8.css","assets/utilities-CH50U7YB.js"])))=>i.map(i=>d[i]);
import{d as g,r as s,j as e,S as h,L as S,_ as y}from"./index-CR7NAc_0.js";import{FaArrowRight as _}from"./index-Bmw-wZMc.js";import"./iconBase-BgwtP8tI.js";const N=s.lazy(()=>y(()=>import("./HeroSplashArts-SgH2R_41.js"),__vite__mapDeps([0,1,2,3]))),f="/StarLoomPublic/",R=({count:c=3,sort:n="latest"})=>{const p=!g().pathname.startsWith("/extras/splashart/hero"),[o,u]=s.useState([]),[j,d]=s.useState(!0),[x,m]=s.useState("");return s.useEffect(()=>{const t=new AbortController;async function w(){try{d(!0),m("");let a=[...(await(await fetch(`${f}data/heroes_index.json`,{signal:t.signal})).json()).heroes];n==="latest"?a.sort((r,l)=>l.id.localeCompare(r.id)):n==="oldest"&&a.sort((r,l)=>r.id.localeCompare(l.id)),a=a.slice(0,c);const b=await Promise.all(a.map(async r=>(await fetch(`${f}data/heroes/${r.details_file}`,{signal:t.signal})).json()));u(b)}catch(i){i.name!=="AbortError"&&(console.error(i),m(i.message||"Failed to fetch heroes"))}finally{d(!1)}}return w(),()=>t.abort()},[c,n]),j?e.jsx(h,{size:40}):x?e.jsx("div",{className:"text-red-500 text-center mt-10",children:x}):o.length?e.jsxs("div",{className:"w-full flex flex-col gap-12",children:[p&&e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-text",children:"Latest Hero Splash Arts"}),o[0]&&e.jsxs(S,{to:`/extras/splashart/hero/${o[0].name}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white text-sm font-semibold rounded-lg shadow-md hover:bg-primary/80 transition-all duration-200",children:["Browse Splash Arts ",e.jsx(_,{className:"text-xs"})]})]}),o.map(t=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-text mb-6 capitalize",children:t.name}),e.jsx(s.Suspense,{fallback:e.jsx(h,{size:40}),children:e.jsx(N,{heroes:[t],linkType:"preview"})})]},t.id||t.name))]}):e.jsx("p",{className:"text-text-dull text-center mt-10",children:"No heroes found."})};export{R as default};
