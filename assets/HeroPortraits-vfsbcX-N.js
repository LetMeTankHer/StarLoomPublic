import{r as d,j as s,L as g}from"./index-3F8ASdVJ.js";import{s as x}from"./utilities-CH50U7YB.js";const f="/StarLoomPublic/",k=({heroes:n,linkType:c})=>{const t=d.useMemo(()=>Array.isArray(n)?n:[n],[n]),[r,p]=d.useState({});return d.useEffect(()=>{if(!t.length)return;const i={};t.forEach(e=>{Object.values(e.skins||{}).forEach(a=>{i[a.skin_id]=0})}),p(i);const m=setInterval(()=>{p(e=>{const a={...e};return t.forEach(o=>{Object.values(o.skins||{}).forEach(l=>{const h=1+(l.painted_skins?.length||0);a[l.skin_id]=(e[l.skin_id]+1)%h})}),a})},3e3);return()=>clearInterval(m)},[t]),t.length?s.jsx("div",{className:"mt-8",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-y-12 gap-x-5",children:t.map(i=>Object.values(i.skins||{}).filter(e=>!e.painted_of).map(e=>{const a=[e,...e.painted_skins?.map(l=>i.skins[l.key]).filter(Boolean)||[]],o=r[e.skin_id]||0;return s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c==="model"?s.jsx(g,{to:`/model_viewer/${i.id}/${e.skin_id}?model_type=in_game`,children:s.jsx(u,{variants:a,activeIndex:o})}):s.jsx("div",{onClick:()=>window.open(x(`${f}${a[o]?.portraits?.default}`),"_blank"),className:"cursor-pointer",children:s.jsx(u,{variants:a,activeIndex:o})}),s.jsx("span",{className:"text-text text-sm text-center truncate w-32",children:a[o]?.name||"Unknown"})]},e.skin_id)}))})}):s.jsx("div",{children:"No heroes found."})},u=({variants:n,activeIndex:c})=>s.jsxs("div",{className:"relative w-32 h-[220px] rounded-lg overflow-hidden group transition-all duration-300 hover:-translate-y-2 hover:shadow-[0_0_20px_var(--color-primary-glow)]",children:[n.map((t,r)=>s.jsx("img",{src:x(`${f}${t.portraits?.default}`),alt:t.name||"skin",className:`absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-1000 ${r===c?"opacity-100":"opacity-0"}`},t.skin_id||r)),n.map((t,r)=>t.painted_of?s.jsx("span",{className:`absolute top-1 left-1 text-xs bg-purple-500 text-white px-1 rounded transition-opacity duration-1000 ${r===c?"opacity-100":"opacity-0"}`,children:"Painted"},t.skin_id||r):null)]});export{k as default};
